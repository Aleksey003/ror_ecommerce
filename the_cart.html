<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ror ecommerce by drhenner</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ror ecommerce</h1>
        <p>Complete Ruby on Rails Ecommerce platform</p>

        <p class="view"><a href="https://github.com/drhenner/ror_ecommerce">View the Project on GitHub <small>drhenner/ror_ecommerce</small></a></p>


        <ul>
          <li><a href="https://github.com/drhenner/ror_ecommerce/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/drhenner/ror_ecommerce/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/drhenner/ror_ecommerce">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>ROR Ecommerce</h1>

<h2>The Cart</h2>

<p>
   The cart is simply a bucket of stuff.
</p><p>
   The first thing that comes to mind of a great cart is that it is "stupid".
   Sure that might sound crazy but it is very true. A shopping cart should not know much
   about your "order" or your "products". Your cart should simply be a bucket to keep a
   bunch of products for a specific user. It doesn't know the price of the products or
   anything about the checkout process.
</p><p>
   The second thing about a great cart is that it ironically it is "smart" about itself.
   Your cart should NOT know about the order or products but it should know about itself.
   Note your cart is the combination of a "cart model" and "cart_items model". This cart_items
   model has the following fields:
</p><p>
   cart_id
   product_id
   item_type_id
   quantity
   Additionally the cart should only have the following field:

   user_id     (this is the stylist user_id in the admin area)
   customer_id (for the customer facing site this == user_id)

</p><p>
   Also note ror_ecommerce adds user_id to the cart_items table to keep queries more simple.
</p><p>
   One feature I added to the minimum model is the field item_type_id. item_type_id refers to a
   model that just has a name field. The ItemTypes are as follows:
</p><p>
   shopping_cart
   save_for_later
   wish_list
   purchased
   deleted
   admin_cart
</p><p>
   What this simple field in the DB does is allows you to have a wish list and save for later
   functionality out of the box. Additionally you can WOW your marketing team by telling them
   all the items a user has ever deleted out of their cart or purchased. If you ever need to create
   a recommendation engine your cart will give you all the data you need.
</p><p>
   Now with this model, purchasing an item is simply taking the items that are in the cart and
   have an item_type of shopping_cart and moving them to an order / order_items object.  Once
   you purchase an order_item you change the cart_item.item_type to "purchased" with cart.mark_items_purchased(order)
</p>

<hr/>
   _______________________


   <h3>Combining the Cart and Order Objects</h3>
<p>
   I've heard the argument that using an order object for the cart "make things easier".
   Not only do I disagree but sorry, "You would be wrong". By mixing the cart and the order you have not
   separated concerns. This can make validations very conditional. It also mixes cart logic with order logic.
</p><p>
   I view your cart as something that can be removed off the face of the planet and not effect much. Sure
   people would be upset to add things back to their cart but at the end of the day it would not effect anything
   financially. The order however is sacred. If an order was deleted you could lose financial data and even
   fulfillment information. Hence you don't want to be messing around with the order because you could be
   shooting yourself in the foot.
</p><p>
   By nature your cart has a lot of abandoned records. If the order and cart are separated you could very easily
   archive the carts without much worry. If your order is your cart the risk to do this would be too great.
   One small bug could cost you way too much.
</p><p>
   Now you have an extremely slim cart with a tremendous amount of functionality.
</p>
   <h3> Removing an item </h3>

<p>
   The when the item is removed from the cart instead of deleting the cart_item the item is
   changed to active = false.  This allows you to see the state of the item when it was removed from the cart.
</p>
   <h3> Save for later </h3>

<p>
   The when the item is marked for "save_for_later" in the cart now the state of the item is just changed to "save_for_later".
   So adding it back to the cart is as easy as changing the state to "shopping_cart".
</p><p>
   Take a look at
   <a href="http://www.ror-e.com/posts/29-e-commerce-tips-1-2-the-shopping-cart">This Blog Post</a>
   for more details.
</p>


</p>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/drhenner">drhenner</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>
</html>
